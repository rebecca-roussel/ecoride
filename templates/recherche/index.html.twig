{# templates/recherche/index.html.twig #}

{# Plan (structure de la page recherche/index.html.twig) :

  1. En-tête : fourni par base.html.twig (fragment entete_public.html.twig)

  2. Zone centrale :
     - carte de formulaire centrée
     - titre centré dans la carte
     - bouton centré
     - formulaire (départ, arrivée, date + heure)

  3. Pied de page : fourni par base.html.twig (fragment pied_de_page.html.twig)
#}

{% extends 'base.html.twig' %}{% block title %}
EcoRide – Rechercher
{% endblock %}

	{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/accueil.css') }}"> <link rel="stylesheet" href="{{ asset('css/recherche.css') }}">
{% endblock %}

{% block body %}
	<div class="page_recherche">
		<main class="zone_centrale">
			<section class="carte_recherche" aria-label="Recherche de covoiturage">
				<h1 class="titre_carte">Rechercher un covoiturage</h1>

				{% if message_erreur is defined and message_erreur %}
					<p class="champ_erreur" role="alert">{{ message_erreur }}</p>
				{% endif %}

				<form class="formulaire_recherche_maquette" method="get" action="{{ path('resultats') }}">

					<div class="groupe_champ">
						<label for="depart">Départ (ville)</label>
						<input type="text" id="depart" name="ville_depart" placeholder="Ville de départ" value="{{ criteres.ville_depart ?? app.request.query.get('ville_depart') ?? '' }}">
					</div>

					<div class="groupe_champ">
						<label for="arrivee">Arrivée (ville)</label>
						<input type="text" id="arrivee" name="ville_arrivee" placeholder="Ville d'arrivée" value="{{ criteres.ville_arrivee ?? app.request.query.get('ville_arrivee') ?? '' }}">
					</div>

					<div class="ligne_deux_champs">
						<div class="groupe_champ">
							<label for="date_depart">Date de départ</label>
							<input type="date" id="date_depart" name="date" value="{{ criteres.date ?? app.request.query.get('date') ?? '' }}">
						</div>

						<div class="groupe_champ">
							<label for="heure_depart">Heure souhaitée</label>
							<input type="time" id="heure_depart" name="heure_souhaitee" value="{{ criteres.heure_souhaitee ?? app.request.query.get('heure_souhaitee') ?? '' }}">
						</div>
					</div>

					<div class="actions_recherche">
						<button type="submit" class="bouton_principal">Rechercher</button>
					</div>

				</form>
			</section>
		</main>
	</div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script src="{{ asset('js/suggestions_villes.js') }}" defer></script>
{% endblock %}

