/* public/css/historique.css */
/*
  PLAN (historique) :
  1) Page : centrer un grand panneau beige, garder le fond global sombre
  2) Onglets : 2 boutons-onglets accessibles (aria-current) + responsive
  3) Cartes : grille "infos" / "actions" + séparation claire
  4) Badges : statuts + validation + participation annulée
  5) Boutons : variantes (secondaire / valider / alerte) + icônes en fond
  6) Mobile : cartes en colonne + actions empilées
*/

/* PAGE */

.page_historique{
  padding: 48px 16px;
  box-sizing: border-box;
}

.panneau_historique{
  width: min(1100px, 100%);
  margin: 0 auto;
  background: var(--surface_beige);
  border: 1px solid rgba(199,195,184,0.65);
  border-radius: 18px;
  box-shadow: 0 18px 40px rgba(0,0,0,0.25);
  padding: 28px;
  box-sizing: border-box;

  /* texte lisible sur beige */
  color: #0F172A;
}

/* En-tête */
.entete_historique{
  display: grid;
  gap: 6px;
  margin-bottom: 18px;
}

.entete_historique h1{
  color: #0F172A;
}

.entete_historique .texte_secondaire{
  color: rgba(15,23,42,0.70);
}

/* ONGLET */

.onglets{
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  margin: 16px 0 22px 0;
}

.onglet{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  padding: 10px 14px;
  border-radius: 12px;

  text-decoration: none;
  font-weight: 600;

  background: rgba(199,195,184,0.35);
  border: 1px solid rgba(199,195,184,0.85);

  color: #0F172A;
}

.onglet:hover{
  background: rgba(199,195,184,0.55);
}

.onglet:focus-visible{
  outline: 3px solid var(--anneau_focus);
  outline-offset: 3px;
}

.onglet_actif,
.onglet[aria-current="page"]{
  background: var(--action_principale);
  color: var(--texte_principal);
  border-color: var(--bordure);
}

/* LISTES / CARTES */

.zone_listes{
  display: grid;
  gap: 14px;
}

.liste_cartes{
  display: grid;
  gap: 12px;
}

/* Carte trajet */
.carte_trajet{
  display: grid;
  grid-template-columns: 1fr 260px;
  gap: 14px;

  background: #FFFFFF;
  border: 1px solid rgba(199,195,184,0.75);
  border-radius: 16px;
  padding: 16px;
  box-sizing: border-box;
}

/* Partie gauche (infos) */
.carte_principale{
  display: grid;
  gap: 8px;
  min-width: 0;
}

.trajet{
  margin: 0;
  display: flex;
  gap: 10px;
  align-items: baseline;
  flex-wrap: wrap;

  font-size: 18px;
}

.fleche{
  opacity: 0.75;
}

.date_heure{
  margin: 0;
  font-size: 14px;
  color: rgba(15,23,42,0.75);
}

.statut{
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
  align-items: center;
}

.meta{
  margin: 0;
  display: flex;
  gap: 14px;
  flex-wrap: wrap;

  font-size: 14px;
  color: rgba(15,23,42,0.85);
}

.prix{
  font-weight: 700;
}

/* Partie droite (actions) */
.carte_actions{
  display: grid;
  align-content: start;
  gap: 10px;
}

.carte_actions form{
  margin: 0;
}

/* Libellé "pas d’action" */
.libelle_action{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  min-height: 44px;
  padding: 10px 12px;
  border-radius: 12px;

  background: rgba(199,195,184,0.25);
  border: 1px dashed rgba(199,195,184,0.95);

  color: rgba(15,23,42,0.70);
  font-weight: 600;
  text-align: center;
}

/* BADGES */

.badge{
  display: inline-flex;
  align-items: center;
  gap: 8px;

  border-radius: 999px;
  padding: 6px 10px;

  font-size: 12px;
  font-weight: 700;

  border: 1px solid rgba(15,23,42,0.12);
  background: rgba(15,23,42,0.06);
  color: #0F172A;
}

/* Statuts covoiturage */
.badge_planifie{
  background: rgba(191,169,122,0.25); /* avertissement doux */
  border-color: rgba(191,169,122,0.55);
}

.badge_en_cours{
  background: rgba(63,93,74,0.14); /* action principale adoucie */
  border-color: rgba(63,93,74,0.35);
}

.badge_termine{
  background: rgba(107,142,122,0.22); /* succès */
  border-color: rgba(107,142,122,0.45);
}

.badge_annule{
  background: rgba(155,79,79,0.18); /* erreur douce */
  border-color: rgba(155,79,79,0.40);
}

.badge_incident{
  background: rgba(155,79,79,0.22);
  border-color: rgba(155,79,79,0.55);
}

/* Validation (passager) */
.badge_validation_en_attente{
  background: rgba(191,169,122,0.22);
  border-color: rgba(191,169,122,0.50);
}

.badge_validation_ok{
  background: rgba(107,142,122,0.22);
  border-color: rgba(107,142,122,0.45);
}

.badge_validation_probleme{
  background: rgba(155,79,79,0.18);
  border-color: rgba(155,79,79,0.40);
}

/* Participation annulée */
.badge_participation_annulee{
  background: rgba(15,23,42,0.08);
  border-color: rgba(15,23,42,0.18);
  color: rgba(15,23,42,0.75);
}

/* BOUTONS */

/* Socle commun : on s’aligne sur ton ergonomie (44px) */
.bouton_secondaire,
.bouton_valider,
.bouton_alerte{
  width: 100%;
  min-height: 44px;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;

  padding: 12px 14px;
  border-radius: 12px;

  font-weight: 700;
  text-decoration: none;

  cursor: pointer;
  box-sizing: border-box;
  border: 1px solid transparent;
}

/* Secondaire : neutre lisible */
.bouton_secondaire{
  background: rgba(15,23,42,0.08);
  border-color: rgba(15,23,42,0.20);
  color: #0F172A;
}

.bouton_secondaire:hover{
  background: rgba(15,23,42,0.12);
}

/* Valider : succès / action positive */
.bouton_valider{
  background: rgba(107,142,122,0.22);
  border-color: rgba(107,142,122,0.55);
  color: #0F172A;
}

.bouton_valider:hover{
  background: rgba(107,142,122,0.28);
}

/* Alerte : action sensible */
.bouton_alerte{
  background: rgba(155,79,79,0.16);
  border-color: rgba(155,79,79,0.50);
  color: #0F172A;
}

.bouton_alerte:hover{
  background: rgba(155,79,79,0.22);
}

/* Désactivé (bouton annuler grisé) */
.bouton_alerte[disabled],
.bouton_alerte:disabled{
  opacity: 0.55;
  cursor: not-allowed;
}

/* Focus visible */
.bouton_secondaire:focus-visible,
.bouton_valider:focus-visible,
.bouton_alerte:focus-visible{
  outline: 3px solid var(--anneau_focus);
  outline-offset: 3px;
}

/* ICÔNES */

.icone_bouton{
  width: 18px;
  height: 18px;
  display: inline-block;

  background-repeat: no-repeat;
  background-position: center;
  background-size: 18px 18px;

  filter: none;
  opacity: 0.95;
}

.icone_direction{ background-image: url("/icones/direction.svg"); }
.icone_valide{ background-image: url("/icones/valide.svg"); }
.icone_alerte{ background-image: url("/icones/alerte.svg"); }
.icone_x{ background-image: url("/icones/x.svg"); }

/* FORMULAIRES */

.champ_formulaire{
  align-items: stretch;
  margin-top: 20px;
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.actions_formulaire{
  margin-top: 28px;
  display: flex;
  gap: 16px;
  align-items: center;
  flex-wrap: wrap;
}

/* Zone étoiles : radios cachés + labels en étoiles */
.etoiles{
  align-self: flex-start;
  justify-content: flex-start;
  margin-right: auto;
  display: inline-flex;
  flex-direction: row-reverse; 
  gap: 10px;
  align-items: center;
}

.etoile_radio{
  position: absolute;
  opacity: 0;
  pointer-events: none;
}

/* Label = "étoile cliquable" */
.etoile_label{
  display: inline-flex;
  align-items: center;
  justify-content: center;

  width: 44px;
  height: 44px;
  border-radius: 10px;

  font-size: 26px;
  line-height: 1;
  cursor: pointer;
  user-select: none;

  color: rgba(15,23,42,0.22);
  background: rgba(199,195,184,0.22);
  border: 1px solid rgba(199,195,184,0.55);

  transition: transform 120ms ease, background 120ms ease, color 120ms ease, border-color 120ms ease;
}

.etoile_label:hover{
  transform: translateY(-1px);
  background: rgba(63, 93, 74, 0.12);
  border-color: rgba(63, 93, 74, 0.35);
}

/* Prévisualisation au survol */
.etoile_label:hover,
.etoile_label:hover ~ .etoile_label{
  color: rgba(63, 93, 74, 0.85);
  border-color: rgba(63, 93, 74, 0.55);
}

/* Sélection */
.etoile_radio:checked + .etoile_label,
.etoile_radio:checked + .etoile_label ~ .etoile_label{
  color: var(--action_principale);
  background: rgba(63, 93, 74, 0.16);
  border-color: rgba(63, 93, 74, 0.55);
}

/* Focus clavier */
.etoile_radio:focus-visible + .etoile_label{
  outline: 3px solid var(--anneau_focus);
  outline-offset: 3px;
}


/* RESPONSIVE */

@media (max-width: 900px){
  .panneau_historique{
    padding: 18px;
  }

  .carte_trajet{
    grid-template-columns: 1fr;
  }

  .carte_actions{
    grid-template-columns: 1fr;
  }
}
