<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="7592px" preserveAspectRatio="none" style="width:2319px;height:7592px;background:#FFFFFF;" version="1.1" viewBox="0 0 2319 7592" width="2319px" zoomAndPan="magnify"><title>EcoRide Sc&#233;nario principal (Diagramme de s&#233;quence)</title><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="359.4473" x="976.2439" y="30.1074">EcoRide Sc&#233;nario principal (Diagramme de s&#233;quence)</text><rect fill="none" height="430.7051" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="501.0645"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="732.3926"/><rect fill="none" height="430.7051" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="1147.5156"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="1378.8438"/><rect fill="none" height="790.4785" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="2227.9141"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="2456.2129"/><rect fill="none" height="587.1602" style="stroke:#000000;stroke-width:1.5;" width="1795.6587" x="484.4829" y="3351.3027"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="3707.7949"/><rect fill="none" height="382.123" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="4216.791"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="4368.2461"/><rect fill="none" height="555.8691" style="stroke:#000000;stroke-width:1.5;" width="1795.6587" x="484.4829" y="4831.9512"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="5157.1523"/><rect fill="none" height="427.6758" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="5634.8574"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="5831.8652"/><rect fill="none" height="319.541" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="6514.6074"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="6634.7715"/><g><title>Visiteur</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="48.3413" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="52" x2="52" y1="141.8633" y2="7490.9688"/></g><g><title>Passager</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="122.3032" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="125.6826" x2="125.6826" y1="141.8633" y2="7490.9688"/></g><g><title>Chauffeur</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="207.5444" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="210.9238" x2="210.9238" y1="141.8633" y2="7490.9688"/></g><g><title>Employ.</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="285.3994" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="289.165" x2="289.165" y1="141.8633" y2="7490.9688"/></g><g><title>Administrateur</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="373.7612" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="377.6338" x2="377.6338" y1="141.8633" y2="7490.9688"/></g><g><title>Pages web .Twig.</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="566.1328" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="569.4829" x2="569.4829" y1="141.8633" y2="7490.9688"/></g><g><title>Contr.leurs Symfony</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="799.6816" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="803.2822" x2="803.2822" y1="141.8633" y2="7490.9688"/></g><g><title>Session . Auth</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="992.5601" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="996.0811" x2="996.0811" y1="141.8633" y2="7490.9688"/></g><g><title>Services m.tier</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="1186.4185" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1190.1343" x2="1190.1343" y1="141.8633" y2="7490.9688"/></g><g><title>PostgreSQL</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="1483.063" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1486.8081" x2="1486.8081" y1="141.8633" y2="7490.9688"/></g><g><title>JournalEvenementsMongodb</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="1702.7046" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1706.6465" x2="1706.6465" y1="141.8633" y2="7490.9688"/></g><g><title>MongoDB</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="1884.7471" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1887.7627" x2="1887.7627" y1="141.8633" y2="7490.9688"/></g><g><title>Symfony Mailer</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="2038.5435" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2041.7314" x2="2041.7314" y1="141.8633" y2="7490.9688"/></g><g><title>Serveur mail</title><rect fill="#000000" fill-opacity="0.00000" height="7349.1055" width="8" x="2192.2485" y="141.8633"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="2195.3555" x2="2195.3555" y1="141.8633" y2="7490.9688"/></g><g class="participant participant-head" data-participant="Visiteur"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="26" y="138.3496">Visiteur</text><ellipse cx="52.3413" cy="71.7422" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.3413,79.7422 L52.3413,106.7422 M39.3413,87.7422 L65.3413,87.7422 M52.3413,106.7422 L39.3413,121.7422 M52.3413,106.7422 L65.3413,121.7422" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Visiteur"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46.6826" x="26" y="7505.0762">Visiteur</text><ellipse cx="52.3413" cy="7517.0898" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M52.3413,7525.0898 L52.3413,7552.0898 M39.3413,7533.0898 L65.3413,7533.0898 M52.3413,7552.0898 L39.3413,7567.0898 M52.3413,7552.0898 L65.3413,7567.0898" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Passager"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1445" x="93.731" y="119.7285">Passager</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2412" x="88.6826" y="138.3496">(utilisateur)</text><ellipse cx="126.3032" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M126.3032,61.1211 L126.3032,88.1211 M113.3032,69.1211 L139.3032,69.1211 M126.3032,88.1211 L113.3032,103.1211 M126.3032,88.1211 L139.3032,103.1211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Passager"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59.1445" x="93.731" y="7505.0762">Passager</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2412" x="88.6826" y="7523.6973">(utilisateur)</text><ellipse cx="126.3032" cy="7535.7109" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M126.3032,7543.7109 L126.3032,7570.7109 M113.3032,7551.7109 L139.3032,7551.7109 M126.3032,7570.7109 L113.3032,7585.7109 M126.3032,7570.7109 L139.3032,7585.7109" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Chauffeur"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4824" x="177.8032" y="119.7285">Chauffeur</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2412" x="173.9238" y="138.3496">(utilisateur)</text><ellipse cx="211.5444" cy="53.1211" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M211.5444,61.1211 L211.5444,88.1211 M198.5444,69.1211 L224.5444,69.1211 M211.5444,88.1211 L198.5444,103.1211 M211.5444,88.1211 L224.5444,103.1211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Chauffeur"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61.4824" x="177.8032" y="7505.0762">Chauffeur</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.2412" x="173.9238" y="7523.6973">(utilisateur)</text><ellipse cx="211.5444" cy="7535.7109" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M211.5444,7543.7109 L211.5444,7570.7109 M198.5444,7551.7109 L224.5444,7551.7109 M211.5444,7570.7109 L198.5444,7585.7109 M211.5444,7570.7109 L224.5444,7585.7109" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Employe"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4688" x="259.165" y="138.3496">Employ&#233;</text><ellipse cx="289.3994" cy="71.7422" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M289.3994,79.7422 L289.3994,106.7422 M276.3994,87.7422 L302.3994,87.7422 M289.3994,106.7422 L276.3994,121.7422 M289.3994,106.7422 L302.3994,121.7422" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Employe"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="54.4688" x="259.165" y="7505.0762">Employ&#233;</text><ellipse cx="289.3994" cy="7517.0898" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M289.3994,7525.0898 L289.3994,7552.0898 M276.3994,7533.0898 L302.3994,7533.0898 M289.3994,7552.0898 L276.3994,7567.0898 M289.3994,7552.0898 L302.3994,7567.0898" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2549" x="329.6338" y="138.3496">Administrateur</text><ellipse cx="377.7612" cy="71.7422" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M377.7612,79.7422 L377.7612,106.7422 M364.7612,87.7422 L390.7612,87.7422 M377.7612,106.7422 L364.7612,121.7422 M377.7612,106.7422 L390.7612,121.7422" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Admin"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2549" x="329.6338" y="7505.0762">Administrateur</text><ellipse cx="377.7612" cy="7517.0898" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M377.7612,7525.0898 L377.7612,7552.0898 M364.7612,7533.0898 L390.7612,7533.0898 M377.7612,7552.0898 L364.7612,7567.0898 M377.7612,7552.0898 L390.7612,7567.0898" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Web"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.2998" x="494.4829" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.041" x="514.1123" y="111.7285">Pages web (Twig)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.2998" x="501.4829" y="130.3496">ce que voit l'utilisateur</text></g><g class="participant participant-tail" data-participant="Web"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="151.2998" x="494.4829" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="112.041" x="514.1123" y="7512.0762">Pages web (Twig)</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137.2998" x="501.4829" y="7530.6973">ce que voit l'utilisateur</text></g><g class="participant participant-head" data-participant="Controleur"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228.7988" x="689.2822" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7168" x="738.3232" y="111.7285">Contr&#244;leurs Symfony</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.7988" x="696.2822" y="130.3496">(re&#231;oivent la requ&#234;te et r&#233;pondent)</text></g><g class="participant participant-tail" data-participant="Controleur"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="228.7988" x="689.2822" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.7168" x="738.3232" y="7512.0762">Contr&#244;leurs Symfony</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214.7988" x="696.2822" y="7530.6973">(re&#231;oivent la requ&#234;te et r&#233;pondent)</text></g><g class="participant participant-head" data-participant="Auth"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.958" x="928.0811" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2754" x="951.4224" y="111.7285">Session / Auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.958" x="935.0811" y="130.3496">(qui est connect&#233; ?)</text></g><g class="participant participant-tail" data-participant="Auth"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.958" x="928.0811" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="90.2754" x="951.4224" y="7512.0762">Session / Auth</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.958" x="935.0811" y="7530.6973">(qui est connect&#233; ?)</text></g><g class="participant participant-head" data-participant="Metier"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.5684" x="1115.1343" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4688" x="1142.1841" y="111.7285">Services m&#233;tier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.5684" x="1122.1343" y="130.3496">(r&#232;gles + appels SQL)</text></g><g class="participant participant-tail" data-participant="Metier"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.5684" x="1115.1343" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4688" x="1142.1841" y="7512.0762">Services m&#233;tier</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.5684" x="1122.1343" y="7530.6973">(r&#232;gles + appels SQL)</text></g><g class="participant participant-head" data-participant="PostgreSQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2617" x="1445.9321" y="119.7285">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.5098" x="1421.8081" y="138.3496">(donn&#233;es officielles)</text><path d="M1469.063,68.6211 C1469.063,58.6211 1487.063,58.6211 1487.063,58.6211 C1487.063,58.6211 1505.063,58.6211 1505.063,68.6211 L1505.063,94.6211 C1505.063,104.6211 1487.063,104.6211 1487.063,104.6211 C1487.063,104.6211 1469.063,104.6211 1469.063,94.6211 L1469.063,68.6211" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1469.063,68.6211 C1469.063,78.6211 1487.063,78.6211 1487.063,78.6211 C1487.063,78.6211 1505.063,78.6211 1505.063,68.6211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="PostgreSQL"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.2617" x="1445.9321" y="7505.0762">PostgreSQL</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="124.5098" x="1421.8081" y="7523.6973">(donn&#233;es officielles)</text><path d="M1469.063,7537.2109 C1469.063,7527.2109 1487.063,7527.2109 1487.063,7527.2109 C1487.063,7527.2109 1505.063,7527.2109 1505.063,7537.2109 L1505.063,7563.2109 C1505.063,7573.2109 1487.063,7573.2109 1487.063,7573.2109 C1487.063,7573.2109 1469.063,7573.2109 1469.063,7563.2109 L1469.063,7537.2109" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1469.063,7537.2109 C1469.063,7547.2109 1487.063,7547.2109 1487.063,7547.2109 C1487.063,7547.2109 1505.063,7547.2109 1505.063,7537.2109" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="JournalMongo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.1162" x="1608.6465" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.1162" x="1615.6465" y="111.7285">JournalEvenementsMongodb</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.958" x="1648.7256" y="130.3496">(journal technique)</text></g><g class="participant participant-tail" data-participant="JournalMongo"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="196.1162" x="1608.6465" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182.1162" x="1615.6465" y="7512.0762">JournalEvenementsMongodb</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="115.958" x="1648.7256" y="7530.6973">(journal technique)</text></g><g class="participant participant-head" data-participant="MongoDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2549" x="1854.6196" y="119.7285">MongoDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9688" x="1814.7627" y="138.3496">(journal d'&#233;v&#233;nements)</text><path d="M1870.7471,68.6211 C1870.7471,58.6211 1888.7471,58.6211 1888.7471,58.6211 C1888.7471,58.6211 1906.7471,58.6211 1906.7471,68.6211 L1906.7471,94.6211 C1906.7471,104.6211 1888.7471,104.6211 1888.7471,104.6211 C1888.7471,104.6211 1870.7471,104.6211 1870.7471,94.6211 L1870.7471,68.6211" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1870.7471,68.6211 C1870.7471,78.6211 1888.7471,78.6211 1888.7471,78.6211 C1888.7471,78.6211 1906.7471,78.6211 1906.7471,68.6211" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="MongoDB"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62.2549" x="1854.6196" y="7505.0762">MongoDB</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="141.9688" x="1814.7627" y="7523.6973">(journal d'&#233;v&#233;nements)</text><path d="M1870.7471,7537.2109 C1870.7471,7527.2109 1888.7471,7527.2109 1888.7471,7527.2109 C1888.7471,7527.2109 1906.7471,7527.2109 1906.7471,7537.2109 L1906.7471,7563.2109 C1906.7471,7573.2109 1888.7471,7573.2109 1888.7471,7573.2109 C1888.7471,7573.2109 1870.7471,7573.2109 1870.7471,7563.2109 L1870.7471,7537.2109" fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1870.7471,7537.2109 C1870.7471,7547.2109 1888.7471,7547.2109 1888.7471,7547.2109 C1888.7471,7547.2109 1906.7471,7547.2109 1906.7471,7537.2109" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Mailer"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.624" x="1972.7314" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4688" x="1994.3091" y="111.7285">Symfony Mailer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.624" x="1979.7314" y="130.3496">(composant d'envoi)</text></g><g class="participant participant-tail" data-participant="Mailer"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="139.624" x="1972.7314" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="96.4688" x="1994.3091" y="7512.0762">Symfony Mailer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="125.624" x="1979.7314" y="7530.6973">(composant d'envoi)</text></g><g class="participant participant-head" data-participant="ServeurMail"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.7861" x="2122.3555" y="89.6211"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5791" x="2156.959" y="111.7285">Serveur mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.7861" x="2129.3555" y="130.3496">(SMTP / service mail)</text></g><g class="participant participant-tail" data-participant="ServeurMail"><rect fill="#E2E2F0" height="51.2422" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="147.7861" x="2122.3555" y="7489.9688"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="78.5791" x="2156.959" y="7512.0762">Serveur mail</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="133.7861" x="2129.3555" y="7530.6973">(SMTP / service mail)</text></g><path d="M5,156.8633 L5,200.8633 L1936,200.8633 L1936,166.8633 L1926,156.8633 L5,156.8633" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1926,156.8633 L1926,166.8633 L1936,166.8633 L1926,156.8633" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="457.0059" x="737.8628" y="175.8916">PostgreSQL = v&#233;rit&#233; m&#233;tier (utilisateur, voiture, covoiturage, participation, avis).</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="393.0532" x="737.8628" y="193.1826">MongoDB = journal d'&#233;v&#233;nements (journalisation), s&#233;par&#233; du m&#233;tier.</text><path d="M1930,211.4453 L1930,255.4453 L2307,255.4453 L2307,221.4453 L2297,211.4453 L1930,211.4453" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2297,211.4453 L2297,221.4453 L2307,221.4453 L2297,211.4453" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="356.9351" x="1936" y="230.4736">Les mails servent &#224; informer automatiquement les utilisateurs.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="352.5615" x="1936" y="247.7646">Ce n'est pas la base de donn&#233;es : c'est de la communication.</text><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="282.6729"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="282.6729" y2="282.6729"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="285.6729" y2="285.6729"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="367.2661" x="972.8345" y="271.0273"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="349.6543" x="978.8345" y="289.0557">T0 &#8212; Inscription : le visiteur devient utilisateur passager</text><g class="message" data-participant-1="Visiteur" data-participant-2="Web"><polygon fill="#181818" points="558.1328,325.6094,568.1328,329.6094,558.1328,333.6094,562.1328,329.6094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.3413" x2="564.1328" y1="329.6094" y2="329.6094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.7871" x="59.3413" y="324.3467">Ouvrir la page inscription</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,356.9004,801.6816,360.9004,791.6816,364.9004,795.6816,360.9004" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="360.9004" y2="360.9004"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4727" x="577.1328" y="355.6377">GET /inscription</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,388.1914,571.1328,392.1914,581.1328,396.1914,577.1328,392.1914" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="392.1914" y2="392.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.209" x="587.1328" y="386.9287">Afficher le formulaire</text></g><g class="message" data-participant-1="Visiteur" data-participant-2="Web"><polygon fill="#181818" points="558.1328,419.4824,568.1328,423.4824,558.1328,427.4824,562.1328,423.4824" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="52.3413" x2="564.1328" y1="423.4824" y2="423.4824"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="322.9751" x="59.3413" y="418.2197">Envoyer le formulaire (pseudo, mail, mot de passe, r&#244;le)</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,450.7734,801.6816,454.7734,791.6816,458.7734,795.6816,454.7734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="454.7734" y2="454.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.1436" x="577.1328" y="449.5107">POST /inscription</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,482.0645,1188.4185,486.0645,1178.4185,490.0645,1182.4185,486.0645" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="486.0645" y2="486.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.1836" x="810.6816" y="480.8018">inscrireUtilisateur(...)</text></g><path d="M484.4829,501.0645 L544.6538,501.0645 L544.6538,510.3555 L534.6538,520.3555 L484.4829,520.3555 L484.4829,501.0645" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="430.7051" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="501.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="516.0928">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="244.5029" x="559.6538" y="514.9346">[Donn&#233;es valides et email/pseudo disponibles]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,556.9375,1485.063,560.9375,1475.063,564.9375,1479.063,560.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="560.9375" y2="560.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106.9199" x="1197.4185" y="538.3838">INSERT utilisateur</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.5635" x="1197.4185" y="555.6748">(credits=20, statut=ACTIF, r&#244;les)</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,588.2285,1191.4185,592.2285,1201.4185,596.2285,1197.4185,592.2285" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="592.2285" y2="592.2285"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.9854" x="1207.4185" y="586.9658">id_utilisateur</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,619.5195,804.6816,623.5195,814.6816,627.5195,810.6816,623.5195" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="623.5195" y2="623.5195"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="618.2568">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,650.8105,994.5601,654.8105,984.5601,658.8105,988.5601,654.8105" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="654.8105" y2="654.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.3145" x="810.6816" y="649.5479">D&#233;marrer la session</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,682.1016,804.6816,686.1016,814.6816,690.1016,810.6816,686.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="686.1016" y2="686.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="680.8389">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,713.3926,571.1328,717.3926,581.1328,721.3926,577.1328,717.3926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="717.3926" y2="717.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="159.7197" x="587.1328" y="712.1299">Redirection tableau de bord</text></g><path d="M1105.1343,732.3926 L1170.3452,732.3926 L1170.3452,741.6836 L1160.3452,751.6836 L1105.1343,751.6836 L1105.1343,732.3926" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="732.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="747.4209">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="746.2627">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,770.9746,1704.7046,774.9746,1694.7046,778.9746,1698.7046,774.9746" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="774.9746" y2="774.9746"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243.3438" x="1197.4185" y="769.7119">ajouter("utilisateur_inscrit", {id_utilisateur})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,802.2656,1886.7471,806.2656,1876.7471,810.2656,1880.7471,806.2656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="806.2656" y2="806.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="801.0029">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,833.5566,1707.7046,837.5566,1717.7046,841.5566,1713.7046,837.5566" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="837.5566" y2="837.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="832.2939">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="853.5566" y2="853.5566"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="259.7783" x="489.4829" y="865.4268">[Email ou pseudo d&#233;j&#224; utilis&#233; / donn&#233;es invalides]</text><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,888.4785,804.6816,892.4785,814.6816,896.4785,810.6816,892.4785" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="892.4785" y2="892.4785"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.1372" x="820.6816" y="887.2158">Erreur (message)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,919.7695,571.1328,923.7695,581.1328,927.7695,577.1328,923.7695" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="923.7695" y2="923.7695"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.6489" x="587.1328" y="918.5068">R&#233;afficher formulaire + erreurs</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="960.415"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="960.415" y2="960.415"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="963.415" y2="963.415"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="285.0576" x="1013.9387" y="948.7695"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="267.4458" x="1019.9387" y="966.7979">T1 &#8212; Cr&#233;ation d'un covoiturage (chauffeur)</text><g class="message" data-participant-1="Chauffeur" data-participant-2="Web"><polygon fill="#181818" points="558.1328,1003.3516,568.1328,1007.3516,558.1328,1011.3516,562.1328,1007.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.5444" x2="564.1328" y1="1007.3516" y2="1007.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.3989" x="218.5444" y="1002.0889">Cr&#233;er un covoiturage</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,1034.6426,801.6816,1038.6426,791.6816,1042.6426,795.6816,1038.6426" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="1038.6426" y2="1038.6426"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.0571" x="577.1328" y="1033.3799">POST /covoiturage/creer</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,1065.9336,994.5601,1069.9336,984.5601,1073.9336,988.5601,1069.9336" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="1069.9336" y2="1069.9336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="810.6816" y="1064.6709">V&#233;rifier connect&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,1097.2246,804.6816,1101.2246,814.6816,1105.2246,810.6816,1101.2246" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="1101.2246" y2="1101.2246"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0381" x="820.6816" y="1095.9619">OK (id_utilisateur)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,1128.5156,1188.4185,1132.5156,1178.4185,1136.5156,1182.4185,1132.5156" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="1132.5156" y2="1132.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="238.4624" x="810.6816" y="1127.2529">creerCovoiturage(donn&#233;es, id_utilisateur)</text></g><path d="M484.4829,1147.5156 L544.6538,1147.5156 L544.6538,1156.8066 L534.6538,1166.8066 L484.4829,1166.8066 L484.4829,1147.5156" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="430.7051" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="1147.5156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="1162.5439">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="372.2544" x="559.6538" y="1161.3857">[Voiture appartient au chauffeur ET voiture active ET dates coh&#233;rentes]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,1186.0977,1485.063,1190.0977,1475.063,1194.0977,1479.063,1190.0977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="1190.0977" y2="1190.0977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4536" x="1197.4185" y="1184.835">BEGIN</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,1234.6797,1485.063,1238.6797,1475.063,1242.6797,1479.063,1238.6797" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="1238.6797" y2="1238.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.4917" x="1197.4185" y="1216.126">INSERT covoiturage</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196.5107" x="1197.4185" y="1233.417">(statut=PLANIFIE, commission=2)</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,1265.9707,1191.4185,1269.9707,1201.4185,1273.9707,1197.4185,1269.9707" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="1269.9707" y2="1269.9707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.5571" x="1207.4185" y="1264.708">id_covoiturage</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,1297.2617,1485.063,1301.2617,1475.063,1305.2617,1479.063,1301.2617" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="1301.2617" y2="1301.2617"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7109" x="1197.4185" y="1295.999">COMMIT</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,1328.5527,804.6816,1332.5527,814.6816,1336.5527,810.6816,1332.5527" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="1332.5527" y2="1332.5527"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="1327.29">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,1359.8438,571.1328,1363.8438,581.1328,1367.8438,577.1328,1363.8438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="1363.8438" y2="1363.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.6963" x="587.1328" y="1358.5811">Confirmation</text></g><path d="M1105.1343,1378.8438 L1170.3452,1378.8438 L1170.3452,1388.1348 L1160.3452,1398.1348 L1105.1343,1398.1348 L1105.1343,1378.8438" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="1378.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="1393.8721">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="1392.7139">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,1417.4258,1704.7046,1421.4258,1694.7046,1425.4258,1698.7046,1421.4258" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="1421.4258" y2="1421.4258"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="338.0381" x="1197.4185" y="1416.1631">ajouter("covoiturage_cree", {id_covoiturage, id_utilisateur})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,1448.7168,1886.7471,1452.7168,1876.7471,1456.7168,1880.7471,1452.7168" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="1452.7168" y2="1452.7168"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="1447.4541">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,1480.0078,1707.7046,1484.0078,1717.7046,1488.0078,1713.7046,1484.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="1484.0078" y2="1484.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="1478.7451">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="1500.0078" y2="1500.0078"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="251.8237" x="489.4829" y="1511.8779">[Refus (voiture non valide / dates incoh&#233;rentes)]</text><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,1534.9297,804.6816,1538.9297,814.6816,1542.9297,810.6816,1538.9297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="1538.9297" y2="1538.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="101.1372" x="820.6816" y="1533.667">Erreur (message)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,1566.2207,571.1328,1570.2207,581.1328,1574.2207,577.1328,1570.2207" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="1570.2207" y2="1570.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176.6489" x="587.1328" y="1564.958">R&#233;afficher formulaire + erreurs</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="1606.8662"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="1606.8662" y2="1606.8662"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="1609.8662" y2="1609.8662"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="208.3589" x="1052.2881" y="1595.2207"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="190.7471" x="1058.2881" y="1613.249">T2 &#8212; Recherche et r&#233;servation</text><g class="message" data-participant-1="Passager" data-participant-2="Web"><polygon fill="#181818" points="558.1328,1649.8027,568.1328,1653.8027,558.1328,1657.8027,562.1328,1653.8027" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="126.3032" x2="564.1328" y1="1653.8027" y2="1653.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156.0889" x="133.3032" y="1648.54">Rechercher un covoiturage</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,1681.0938,801.6816,1685.0938,791.6816,1689.0938,795.6816,1685.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="1685.0938" y2="1685.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.749" x="577.1328" y="1679.8311">POST /resultats</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,1712.3848,1188.4185,1716.3848,1178.4185,1720.3848,1182.4185,1716.3848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="1716.3848" y2="1716.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.0107" x="810.6816" y="1711.1221">rechercherCovoiturages(crit&#232;res)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,1830.1309,1485.063,1834.1309,1475.063,1838.1309,1479.063,1834.1309" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="1834.1309" y2="1834.1309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8926" x="1197.4185" y="1742.4131">SELECT covoiturages</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="149.1826" x="1197.4185" y="1759.7041">WHERE statut=PLANIFIE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.5879" x="1197.4185" y="1776.9951">AND date_depart &gt; maintenant</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.6499" x="1197.4185" y="1794.2861">AND voiture active</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114.1499" x="1197.4185" y="1811.5771">AND utilisateur actif</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.9209" x="1197.4185" y="1828.8682">(+ filtres)</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,1861.4219,1191.4185,1865.4219,1201.4185,1869.4219,1197.4185,1865.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="1865.4219" y2="1865.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1182" x="1207.4185" y="1860.1592">liste</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,1892.7129,804.6816,1896.7129,814.6816,1900.7129,810.6816,1896.7129" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="1896.7129" y2="1896.7129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1182" x="820.6816" y="1891.4502">liste</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,1924.0039,571.1328,1928.0039,581.1328,1932.0039,577.1328,1928.0039" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="1928.0039" y2="1928.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.0444" x="587.1328" y="1922.7412">Afficher les r&#233;sultats</text></g><g class="message" data-participant-1="Passager" data-participant-2="Web"><polygon fill="#181818" points="558.1328,1955.2949,568.1328,1959.2949,558.1328,1963.2949,562.1328,1959.2949" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="126.3032" x2="564.1328" y1="1959.2949" y2="1959.2949"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112.728" x="133.3032" y="1954.0322">R&#233;server une place</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,1986.5859,801.6816,1990.5859,791.6816,1994.5859,795.6816,1990.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="1990.5859" y2="1990.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.5298" x="577.1328" y="1985.3232">POST /covoiturage/{id}/reserver</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,2017.877,994.5601,2021.877,984.5601,2025.877,988.5601,2021.877" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="2021.877" y2="2021.877"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="810.6816" y="2016.6143">V&#233;rifier connect&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,2049.168,804.6816,2053.168,814.6816,2057.168,810.6816,2053.168" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="2053.168" y2="2053.168"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0381" x="820.6816" y="2047.9053">OK (id_utilisateur)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,2080.459,1188.4185,2084.459,1178.4185,2088.459,1182.4185,2084.459" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="2084.459" y2="2084.459"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="221.1016" x="810.6816" y="2079.1963">reserver(id_covoiturage, id_utilisateur)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2111.75,1485.063,2115.75,1475.063,2119.75,1479.063,2115.75" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2115.75" y2="2115.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4536" x="1197.4185" y="2110.4873">BEGIN</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2160.332,1485.063,2164.332,1475.063,2168.332,1479.063,2164.332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2164.332" y2="2164.332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.7871" x="1197.4185" y="2141.7783">SELECT covoiturage FOR UPDATE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.8989" x="1197.4185" y="2159.0693">(v&#233;rifier statut, dates, places)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2208.9141,1485.063,2212.9141,1475.063,2216.9141,1479.063,2212.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2212.9141" y2="2212.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197.2153" x="1197.4185" y="2190.3604">SELECT utilisateur FOR UPDATE</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89.5654" x="1197.4185" y="2207.6514">(v&#233;rifier cr&#233;dits)</text></g><path d="M484.4829,2227.9141 L544.6538,2227.9141 L544.6538,2237.2051 L534.6538,2247.2051 L484.4829,2247.2051 L484.4829,2227.9141" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="790.4785" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="2227.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="2242.9424">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="404.6475" x="559.6538" y="2241.7842">[OK : statut=PLANIFIE ET date_depart &gt; maintenant ET nb_places_dispo &gt;= 1</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="218.2544" x="559.6538" y="2256.415">ET cr&#233;dits suffisants ET pas d&#233;j&#224; r&#233;serv&#233;]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2280.7578,1485.063,2284.7578,1475.063,2288.7578,1479.063,2284.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2284.7578" y2="2284.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.3799" x="1197.4185" y="2279.4951">INSERT participation</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2312.0488,1485.063,2316.0488,1475.063,2320.0488,1479.063,2316.0488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2316.0488" y2="2316.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.1797" x="1197.4185" y="2310.7861">UPDATE covoiturage (nb_places_dispo - 1)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2343.3398,1485.063,2347.3398,1475.063,2351.3398,1479.063,2347.3398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2347.3398" y2="2347.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.0381" x="1197.4185" y="2342.0771">UPDATE utilisateur (credits - prix)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2374.6309,1485.063,2378.6309,1475.063,2382.6309,1479.063,2378.6309" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2378.6309" y2="2378.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7109" x="1197.4185" y="2373.3682">COMMIT</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,2405.9219,804.6816,2409.9219,814.6816,2413.9219,810.6816,2409.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="2409.9219" y2="2409.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="118.498" x="820.6816" y="2404.6592">OK (id_participation)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,2437.2129,571.1328,2441.2129,581.1328,2445.2129,577.1328,2441.2129" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="2441.2129" y2="2441.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141.6162" x="587.1328" y="2435.9502">Confirmation r&#233;servation</text></g><path d="M1105.1343,2456.2129 L1170.3452,2456.2129 L1170.3452,2465.5039 L1160.3452,2475.5039 L1105.1343,2475.5039 L1105.1343,2456.2129" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="2456.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="2471.2412">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="2470.083">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,2494.7949,1704.7046,2498.7949,1694.7046,2502.7949,1698.7046,2498.7949" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="2498.7949" y2="2498.7949"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="458.0024" x="1197.4185" y="2493.5322">ajouter("reservation_effectuee", {id_covoiturage, id_participation, id_utilisateur})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,2526.0859,1886.7471,2530.0859,1876.7471,2534.0859,1880.7471,2530.0859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="2530.0859" y2="2530.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="2524.8232">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,2557.377,1707.7046,2561.377,1717.7046,2565.377,1713.7046,2561.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="2561.377" y2="2561.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="2556.1143">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="2577.377" y2="2577.377"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="123.4707" x="489.4829" y="2589.2471">[Refus : plus de places]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2612.2988,1485.063,2616.2988,1475.063,2620.2988,1479.063,2616.2988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2616.2988" y2="2616.2988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="2611.0361">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,2643.5898,804.6816,2647.5898,814.6816,2651.5898,810.6816,2647.5898" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="2647.5898" y2="2647.5898"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.498" x="820.6816" y="2642.3271">Erreur (plus de places)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,2674.8809,571.1328,2678.8809,581.1328,2682.8809,577.1328,2678.8809" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="2678.8809" y2="2678.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="2673.6182">Message d'&#233;chec</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="2687.8809" y2="2687.8809"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="148.5215" x="489.4829" y="2699.751">[Refus : cr&#233;dits insuffisants]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2722.8027,1485.063,2726.8027,1475.063,2730.8027,1479.063,2726.8027" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2726.8027" y2="2726.8027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="2721.54">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,2754.0938,804.6816,2758.0938,814.6816,2762.0938,810.6816,2758.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="2758.0938" y2="2758.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.3208" x="820.6816" y="2752.8311">Erreur (cr&#233;dits insuffisants)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,2785.3848,571.1328,2789.3848,581.1328,2793.3848,577.1328,2789.3848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="2789.3848" y2="2789.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="2784.1221">Message d'&#233;chec</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="2798.3848" y2="2798.3848"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.6338" x="489.4829" y="2810.2549">[Refus : d&#233;j&#224; r&#233;serv&#233; (doublon)]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2833.3066,1485.063,2837.3066,1475.063,2841.3066,1479.063,2837.3066" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2837.3066" y2="2837.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="2832.0439">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,2864.5977,804.6816,2868.5977,814.6816,2872.5977,810.6816,2868.5977" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="2868.5977" y2="2868.5977"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.9263" x="820.6816" y="2863.335">Erreur (d&#233;j&#224; r&#233;serv&#233;)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,2895.8887,571.1328,2899.8887,581.1328,2903.8887,577.1328,2899.8887" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="2899.8887" y2="2899.8887"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="2894.626">Message d'&#233;chec</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="2908.8887" y2="2908.8887"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="257.3237" x="489.4829" y="2920.7588">[Refus : covoiturage non r&#233;servable (statut/date)]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,2943.8105,1485.063,2947.8105,1475.063,2951.8105,1479.063,2947.8105" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="2947.8105" y2="2947.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="2942.5479">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,2975.1016,804.6816,2979.1016,814.6816,2983.1016,810.6816,2979.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="2979.1016" y2="2979.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="134.3862" x="820.6816" y="2973.8389">Erreur (non r&#233;servable)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,3006.3926,571.1328,3010.3926,581.1328,3014.3926,577.1328,3010.3926" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="3010.3926" y2="3010.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="3005.1299">Message d'&#233;chec</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="3047.0381"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="3047.0381" y2="3047.0381"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="3050.0381" y2="3050.0381"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="222.019" x="1045.458" y="3035.3926"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="204.4072" x="1051.458" y="3053.4209">T3 &#8212; Annulation par le chauffeur</text><path d="M160,3075.6836 L160,3119.6836 L2093,3119.6836 L2093,3085.6836 L2083,3075.6836 L160,3075.6836" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M2083,3075.6836 L2083,3085.6836 L2093,3085.6836 L2083,3075.6836" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351.1777" x="946.627" y="3094.7119">Si le chauffeur annule, les participants sont inform&#233;s par mail</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.0171" x="946.627" y="3112.0029">et les cr&#233;dits sont rembours&#233;s.</text><g class="message" data-participant-1="Chauffeur" data-participant-2="Web"><polygon fill="#181818" points="558.1328,3144.5566,568.1328,3148.5566,558.1328,3152.5566,562.1328,3148.5566" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.5444" x2="564.1328" y1="3148.5566" y2="3148.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="129.3589" x="218.5444" y="3143.2939">Annuler le covoiturage</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,3175.8477,801.6816,3179.8477,791.6816,3183.8477,795.6816,3179.8477" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="3179.8477" y2="3179.8477"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="179.2197" x="577.1328" y="3174.585">POST /covoiturage/{id}/annuler</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,3207.1387,994.5601,3211.1387,984.5601,3215.1387,988.5601,3211.1387" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="3211.1387" y2="3211.1387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="810.6816" y="3205.876">V&#233;rifier connect&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,3238.4297,804.6816,3242.4297,814.6816,3246.4297,810.6816,3242.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="3242.4297" y2="3242.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.0381" x="820.6816" y="3237.167">OK (id_utilisateur)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,3269.7207,1188.4185,3273.7207,1178.4185,3277.7207,1182.4185,3273.7207" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="3273.7207" y2="3273.7207"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="286.8887" x="810.6816" y="3268.458">annulerCovoiturage(id_covoiturage, id_utilisateur)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3301.0117,1485.063,3305.0117,1475.063,3309.0117,1479.063,3305.0117" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3305.0117" y2="3305.0117"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4536" x="1197.4185" y="3299.749">BEGIN</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3332.3027,1485.063,3336.3027,1475.063,3340.3027,1479.063,3336.3027" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3336.3027" y2="3336.3027"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.7871" x="1197.4185" y="3331.04">SELECT covoiturage FOR UPDATE</text></g><path d="M484.4829,3351.3027 L544.6538,3351.3027 L544.6538,3360.5938 L534.6538,3370.5938 L484.4829,3370.5938 L484.4829,3351.3027" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="587.1602" style="stroke:#000000;stroke-width:1.5;" width="1795.6587" x="484.4829" y="3351.3027"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="3366.3311">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="327.8945" x="559.6538" y="3365.1729">[OK : covoiturage appartient au chauffeur ET statut=PLANIFIE]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3389.8848,1485.063,3393.8848,1475.063,3397.8848,1479.063,3393.8848" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3393.8848" y2="3393.8848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="253.1445" x="1197.4185" y="3388.6221">UPDATE covoiturage SET statut='ANNULE'</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3438.4668,1485.063,3442.4668,1475.063,3446.4668,1479.063,3442.4668" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3442.4668" y2="3442.4668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="256.4771" x="1197.4185" y="3419.9131">SELECT participants (email, credits_utilises)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.6006" x="1197.4185" y="3437.2041">WHERE participation.est_annulee=false</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,3469.7578,1191.4185,3473.7578,1201.4185,3477.7578,1197.4185,3473.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="3473.7578" y2="3473.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1182" x="1207.4185" y="3468.4951">liste</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3501.0488,1485.063,3505.0488,1475.063,3509.0488,1479.063,3505.0488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3505.0488" y2="3505.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="213.5161" x="1197.4185" y="3499.7861">(rembourser + annuler participations)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3532.3398,1485.063,3536.3398,1475.063,3540.3398,1479.063,3536.3398" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3536.3398" y2="3536.3398"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7109" x="1197.4185" y="3531.0771">COMMIT</text></g><g class="message" data-participant-1="Metier" data-participant-2="Mailer"><polygon fill="#181818" points="2030.5435,3563.6309,2040.5435,3567.6309,2030.5435,3571.6309,2034.5435,3567.6309" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="2036.5435" y1="3567.6309" y2="3567.6309"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250.7515" x="1197.4185" y="3562.3682">pr&#233;parer/envelopper email annulation (liste)</text></g><g class="message" data-participant-1="Mailer" data-participant-2="ServeurMail"><polygon fill="#181818" points="2184.2485,3594.9219,2194.2485,3598.9219,2184.2485,3602.9219,2188.2485,3598.9219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="2042.5435" x2="2190.2485" y1="3598.9219" y2="3598.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.6899" x="2049.5435" y="3593.6592">Envoyer</text></g><g class="message" data-participant-1="ServeurMail" data-participant-2="Mailer"><polygon fill="#181818" points="2053.5435,3626.2129,2043.5435,3630.2129,2053.5435,3634.2129,2049.5435,3630.2129" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="2047.5435" x2="2195.2485" y1="3630.2129" y2="3630.2129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="2059.5435" y="3624.9502">OK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,3657.5039,804.6816,3661.5039,814.6816,3665.5039,810.6816,3661.5039" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="3661.5039" y2="3661.5039"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="3656.2412">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,3688.7949,571.1328,3692.7949,581.1328,3696.7949,577.1328,3692.7949" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="3692.7949" y2="3692.7949"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="137.3062" x="587.1328" y="3687.5322">Confirmation annulation</text></g><path d="M1105.1343,3707.7949 L1170.3452,3707.7949 L1170.3452,3717.0859 L1160.3452,3727.0859 L1105.1343,3727.0859 L1105.1343,3707.7949" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="3707.7949"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="3722.8232">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="3721.665">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,3746.377,1704.7046,3750.377,1694.7046,3754.377,1698.7046,3750.377" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="3750.377" y2="3750.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="351.7871" x="1197.4185" y="3745.1143">ajouter("covoiturage_annule", {id_covoiturage, id_utilisateur})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,3777.668,1886.7471,3781.668,1876.7471,3785.668,1880.7471,3781.668" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="3781.668" y2="3781.668"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="3776.4053">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,3808.959,1707.7046,3812.959,1717.7046,3816.959,1713.7046,3812.959" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="3812.959" y2="3812.959"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="3807.6963">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="2280.1416" y1="3828.959" y2="3828.959"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="228.583" x="489.4829" y="3840.8291">[Refus : non propri&#233;taire ou mauvais statut]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,3863.8809,1485.063,3867.8809,1475.063,3871.8809,1479.063,3867.8809" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="3867.8809" y2="3867.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="3862.6182">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,3895.1719,804.6816,3899.1719,814.6816,3903.1719,810.6816,3899.1719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="3899.1719" y2="3899.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="212.4624" x="820.6816" y="3893.9092">Erreur (non autoris&#233; / non annulable)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,3926.4629,571.1328,3930.4629,581.1328,3934.4629,577.1328,3930.4629" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="3930.4629" y2="3930.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="3925.2002">Message d'&#233;chec</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="3967.1084"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="3967.1084" y2="3967.1084"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="3970.1084" y2="3970.1084"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="250.9517" x="1030.9917" y="3955.4629"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="233.3398" x="1036.9917" y="3973.4912">T4 &#8212; Statuts : d&#233;marrer puis terminer</text><g class="message" data-participant-1="Chauffeur" data-participant-2="Web"><polygon fill="#181818" points="558.1328,4010.0449,568.1328,4014.0449,558.1328,4018.0449,562.1328,4014.0449" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.5444" x2="564.1328" y1="4014.0449" y2="4014.0449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139.4453" x="218.5444" y="4008.7822">D&#233;marrer le covoiturage</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,4041.3359,801.6816,4045.3359,791.6816,4049.3359,795.6816,4045.3359" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="4045.3359" y2="4045.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188.5889" x="577.1328" y="4040.0732">POST /covoiturage/{id}/demarrer</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,4072.627,994.5601,4076.627,984.5601,4080.627,988.5601,4076.627" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="4076.627" y2="4076.627"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="810.6816" y="4071.3643">V&#233;rifier connect&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,4103.918,804.6816,4107.918,814.6816,4111.918,810.6816,4107.918" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="4107.918" y2="4107.918"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="4102.6553">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,4135.209,1188.4185,4139.209,1178.4185,4143.209,1182.4185,4139.209" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="4139.209" y2="4139.209"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="333.8296" x="810.6816" y="4133.9463">changerStatut(id_covoiturage, EN_COURS, id_utilisateur)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4166.5,1485.063,4170.5,1475.063,4174.5,1479.063,4170.5" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4170.5" y2="4170.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4536" x="1197.4185" y="4165.2373">BEGIN</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4197.791,1485.063,4201.791,1475.063,4205.791,1479.063,4201.791" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4201.791" y2="4201.791"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.7871" x="1197.4185" y="4196.5283">SELECT covoiturage FOR UPDATE</text></g><path d="M484.4829,4216.791 L544.6538,4216.791 L544.6538,4226.082 L534.6538,4236.082 L484.4829,4236.082 L484.4829,4216.791" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="382.123" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="4216.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="4231.8193">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="201.3784" x="559.6538" y="4230.6611">[OK : propri&#233;taire ET statut=PLANIFIE]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4255.373,1485.063,4259.373,1475.063,4263.373,1479.063,4259.373" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4259.373" y2="4259.373"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="272.6445" x="1197.4185" y="4254.1104">UPDATE covoiturage SET statut='EN_COURS'</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4286.6641,1485.063,4290.6641,1475.063,4294.6641,1479.063,4290.6641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4290.6641" y2="4290.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7109" x="1197.4185" y="4285.4014">COMMIT</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,4317.9551,804.6816,4321.9551,814.6816,4325.9551,810.6816,4321.9551" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="4321.9551" y2="4321.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="4316.6924">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,4349.2461,571.1328,4353.2461,581.1328,4357.2461,577.1328,4353.2461" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="4353.2461" y2="4353.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.6963" x="587.1328" y="4347.9834">Confirmation</text></g><path d="M1105.1343,4368.2461 L1170.3452,4368.2461 L1170.3452,4377.5371 L1160.3452,4387.5371 L1105.1343,4387.5371 L1105.1343,4368.2461" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="4368.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="4383.2744">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="4382.1162">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,4406.8281,1704.7046,4410.8281,1694.7046,4414.8281,1698.7046,4410.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="4410.8281" y2="4410.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361.1563" x="1197.4185" y="4405.5654">ajouter("covoiturage_demarre", {id_covoiturage, id_utilisateur})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,4438.1191,1886.7471,4442.1191,1876.7471,4446.1191,1880.7471,4442.1191" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="4442.1191" y2="4442.1191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="4436.8564">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,4469.4102,1707.7046,4473.4102,1717.7046,4477.4102,1713.7046,4473.4102" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="4473.4102" y2="4473.4102"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="4468.1475">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="4489.4102" y2="4489.4102"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37.8877" x="489.4829" y="4501.2803">[Refus]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4524.332,1485.063,4528.332,1475.063,4532.332,1479.063,4528.332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4528.332" y2="4528.332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="4523.0693">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,4555.623,804.6816,4559.623,814.6816,4563.623,810.6816,4559.623" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="4559.623" y2="4559.623"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1182" x="820.6816" y="4554.3604">Erreur</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,4586.9141,571.1328,4590.9141,581.1328,4594.9141,577.1328,4590.9141" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="4590.9141" y2="4590.9141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="4585.6514">Message d'&#233;chec</text></g><g class="message" data-participant-1="Chauffeur" data-participant-2="Web"><polygon fill="#181818" points="558.1328,4625.2051,568.1328,4629.2051,558.1328,4633.2051,562.1328,4629.2051" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="211.5444" x2="564.1328" y1="4629.2051" y2="4629.2051"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136.5571" x="218.5444" y="4623.9424">Terminer le covoiturage</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,4656.4961,801.6816,4660.4961,791.6816,4664.4961,795.6816,4660.4961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="4660.4961" y2="4660.4961"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.5298" x="577.1328" y="4655.2334">POST /covoiturage/{id}/terminer</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,4687.7871,994.5601,4691.7871,984.5601,4695.7871,988.5601,4691.7871" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="4691.7871" y2="4691.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="810.6816" y="4686.5244">V&#233;rifier connect&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,4719.0781,804.6816,4723.0781,814.6816,4727.0781,810.6816,4723.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="4723.0781" y2="4723.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="4717.8154">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,4750.3691,1188.4185,4754.3691,1178.4185,4758.3691,1182.4185,4754.3691" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="4754.3691" y2="4754.3691"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320.0933" x="810.6816" y="4749.1064">changerStatut(id_covoiturage, TERMINE, id_utilisateur)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4781.6602,1485.063,4785.6602,1475.063,4789.6602,1479.063,4785.6602" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4785.6602" y2="4785.6602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4536" x="1197.4185" y="4780.3975">BEGIN</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4812.9512,1485.063,4816.9512,1475.063,4820.9512,1479.063,4816.9512" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4816.9512" y2="4816.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="208.7871" x="1197.4185" y="4811.6885">SELECT covoiturage FOR UPDATE</text></g><path d="M484.4829,4831.9512 L544.6538,4831.9512 L544.6538,4841.2422 L534.6538,4851.2422 L484.4829,4851.2422 L484.4829,4831.9512" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="555.8691" style="stroke:#000000;stroke-width:1.5;" width="1795.6587" x="484.4829" y="4831.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="4846.9795">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="212.3892" x="559.6538" y="4845.8213">[OK : propri&#233;taire ET statut=EN_COURS]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4870.5332,1485.063,4874.5332,1475.063,4878.5332,1479.063,4874.5332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4874.5332" y2="4874.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="258.9082" x="1197.4185" y="4869.2705">UPDATE covoiturage SET statut='TERMINE'</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4919.1152,1485.063,4923.1152,1475.063,4927.1152,1479.063,4923.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4923.1152" y2="4923.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.8398" x="1197.4185" y="4900.5615">SELECT emails participants</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="231.6006" x="1197.4185" y="4917.8525">WHERE participation.est_annulee=false</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,4950.4063,1191.4185,4954.4063,1201.4185,4958.4063,1197.4185,4954.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="4954.4063" y2="4954.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1182" x="1207.4185" y="4949.1436">liste</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,4981.6973,1485.063,4985.6973,1475.063,4989.6973,1479.063,4985.6973" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="4985.6973" y2="4985.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7109" x="1197.4185" y="4980.4346">COMMIT</text></g><g class="message" data-participant-1="Metier" data-participant-2="Mailer"><polygon fill="#181818" points="2030.5435,5012.9883,2040.5435,5016.9883,2030.5435,5020.9883,2034.5435,5016.9883" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="2036.5435" y1="5016.9883" y2="5016.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="275.3042" x="1197.4185" y="5011.7256">pr&#233;parer/envelopper email fin covoiturage (liste)</text></g><g class="message" data-participant-1="Mailer" data-participant-2="ServeurMail"><polygon fill="#181818" points="2184.2485,5044.2793,2194.2485,5048.2793,2184.2485,5052.2793,2188.2485,5048.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="2042.5435" x2="2190.2485" y1="5048.2793" y2="5048.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.6899" x="2049.5435" y="5043.0166">Envoyer</text></g><g class="message" data-participant-1="ServeurMail" data-participant-2="Mailer"><polygon fill="#181818" points="2053.5435,5075.5703,2043.5435,5079.5703,2053.5435,5083.5703,2049.5435,5079.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="2047.5435" x2="2195.2485" y1="5079.5703" y2="5079.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="2059.5435" y="5074.3076">OK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,5106.8613,804.6816,5110.8613,814.6816,5114.8613,810.6816,5110.8613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="5110.8613" y2="5110.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="5105.5986">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,5138.1523,571.1328,5142.1523,581.1328,5146.1523,577.1328,5142.1523" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="5142.1523" y2="5142.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.6963" x="587.1328" y="5136.8896">Confirmation</text></g><path d="M1105.1343,5157.1523 L1170.3452,5157.1523 L1170.3452,5166.4434 L1160.3452,5176.4434 L1105.1343,5176.4434 L1105.1343,5157.1523" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="5157.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="5172.1807">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="5171.0225">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,5195.7344,1704.7046,5199.7344,1694.7046,5203.7344,1698.7046,5199.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="5199.7344" y2="5199.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="492.2861" x="1197.4185" y="5194.4717">ajouter("covoiturage_termine", {id_covoiturage, id_utilisateur, commission_credits=2})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,5227.0254,1886.7471,5231.0254,1876.7471,5235.0254,1880.7471,5231.0254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="5231.0254" y2="5231.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="5225.7627">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,5258.3164,1707.7046,5262.3164,1717.7046,5266.3164,1713.7046,5262.3164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="5262.3164" y2="5262.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="5257.0537">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="2280.1416" y1="5278.3164" y2="5278.3164"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37.8877" x="489.4829" y="5290.1865">[Refus]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,5313.2383,1485.063,5317.2383,1475.063,5321.2383,1479.063,5317.2383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="5317.2383" y2="5317.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="5311.9756">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,5344.5293,804.6816,5348.5293,814.6816,5352.5293,810.6816,5348.5293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="5348.5293" y2="5348.5293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1182" x="820.6816" y="5343.2666">Erreur</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,5375.8203,571.1328,5379.8203,581.1328,5383.8203,577.1328,5379.8203" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="5379.8203" y2="5379.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="5374.5576">Message d'&#233;chec</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="5416.4658"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="5416.4658" y2="5416.4658"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="5419.4658" y2="5419.4658"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="210.498" x="1051.2185" y="5404.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="192.8862" x="1057.2185" y="5422.8486">T5 &#8212; Avis d&#233;pos&#233; puis mod&#233;r&#233;</text><g class="message" data-participant-1="Passager" data-participant-2="Web"><polygon fill="#181818" points="558.1328,5459.4023,568.1328,5463.4023,558.1328,5467.4023,562.1328,5463.4023" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="126.3032" x2="564.1328" y1="5463.4023" y2="5463.4023"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93.939" x="133.3032" y="5458.1396">D&#233;poser un avis</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,5490.6934,801.6816,5494.6934,791.6816,5498.6934,795.6816,5494.6934" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="5494.6934" y2="5494.6934"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.3271" x="577.1328" y="5489.4307">POST /avis/deposer</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,5521.9844,994.5601,5525.9844,984.5601,5529.9844,988.5601,5525.9844" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="5525.9844" y2="5525.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5508" x="810.6816" y="5520.7217">V&#233;rifier connect&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,5553.2754,804.6816,5557.2754,814.6816,5561.2754,810.6816,5557.2754" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="5557.2754" y2="5557.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="5552.0127">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,5584.5664,1188.4185,5588.5664,1178.4185,5592.5664,1182.4185,5588.5664" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="5588.5664" y2="5588.5664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="362.7368" x="810.6816" y="5583.3037">deposerAvis(id_participation, note, commentaire, id_utilisateur)</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,5615.8574,1485.063,5619.8574,1475.063,5623.8574,1479.063,5619.8574" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="5619.8574" y2="5619.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4536" x="1197.4185" y="5614.5947">BEGIN</text></g><path d="M484.4829,5634.8574 L544.6538,5634.8574 L544.6538,5644.1484 L534.6538,5654.1484 L484.4829,5654.1484 L484.4829,5634.8574" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="427.6758" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="5634.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="5649.8857">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="248.1499" x="559.6538" y="5648.7275">[OK : participation au passager ET non annul&#233;e</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="268.5332" x="559.6538" y="5663.3584">ET covoiturage termin&#233; ET pas d'avis d&#233;j&#224; existant]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,5687.7012,1485.063,5691.7012,1475.063,5695.7012,1479.063,5691.7012" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="5691.7012" y2="5691.7012"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.3726" x="1197.4185" y="5686.4385">INSERT avis (EN_ATTENTE, employe=NULL)</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,5718.9922,1191.4185,5722.9922,1201.4185,5726.9922,1197.4185,5722.9922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="5722.9922" y2="5722.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.4663" x="1207.4185" y="5717.7295">id_avis</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,5750.2832,1485.063,5754.2832,1475.063,5758.2832,1479.063,5754.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="5754.2832" y2="5754.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="52.7109" x="1197.4185" y="5749.0205">COMMIT</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,5781.5742,804.6816,5785.5742,814.6816,5789.5742,810.6816,5785.5742" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="5785.5742" y2="5785.5742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="5780.3115">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,5812.8652,571.1328,5816.8652,581.1328,5820.8652,577.1328,5816.8652" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="5816.8652" y2="5816.8652"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="150.1475" x="587.1328" y="5811.6025">Message "avis en attente"</text></g><path d="M1105.1343,5831.8652 L1170.3452,5831.8652 L1170.3452,5841.1563 L1160.3452,5851.1563 L1105.1343,5851.1563 L1105.1343,5831.8652" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="5831.8652"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="5846.8936">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="5845.7354">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,5870.4473,1704.7046,5874.4473,1694.7046,5878.4473,1698.7046,5874.4473" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="5874.4473" y2="5874.4473"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="361.8862" x="1197.4185" y="5869.1846">ajouter("avis_depose", {id_avis, id_participation, id_utilisateur})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,5901.7383,1886.7471,5905.7383,1876.7471,5909.7383,1880.7471,5905.7383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="5905.7383" y2="5905.7383"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="5900.4756">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,5933.0293,1707.7046,5937.0293,1717.7046,5941.0293,1713.7046,5937.0293" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="5937.0293" y2="5937.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="5931.7666">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="5953.0293" y2="5953.0293"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37.8877" x="489.4829" y="5964.8994">[Refus]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,5987.9512,1485.063,5991.9512,1475.063,5995.9512,1479.063,5991.9512" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="5991.9512" y2="5991.9512"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="69.3608" x="1197.4185" y="5986.6885">ROLLBACK</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6019.2422,804.6816,6023.2422,814.6816,6027.2422,810.6816,6023.2422" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="6023.2422" y2="6023.2422"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1182" x="820.6816" y="6017.9795">Erreur</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,6050.5332,571.1328,6054.5332,581.1328,6058.5332,577.1328,6054.5332" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="6054.5332" y2="6054.5332"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="6049.2705">Message d'&#233;chec</text></g><g class="message" data-participant-1="Employe" data-participant-2="Web"><polygon fill="#181818" points="558.1328,6088.8242,568.1328,6092.8242,558.1328,6096.8242,562.1328,6092.8242" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="289.3994" x2="564.1328" y1="6092.8242" y2="6092.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131.5171" x="296.3994" y="6087.5615">Voir les avis en attente</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,6120.1152,801.6816,6124.1152,791.6816,6128.1152,795.6816,6124.1152" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="6124.1152" y2="6124.1152"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.8145" x="577.1328" y="6118.8525">GET /employe/avis</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,6151.4063,994.5601,6155.4063,984.5601,6159.4063,988.5601,6155.4063" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="6155.4063" y2="6155.4063"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2153" x="810.6816" y="6150.1436">V&#233;rifier r&#244;le employ&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6182.6973,804.6816,6186.6973,814.6816,6190.6973,810.6816,6186.6973" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="6186.6973" y2="6186.6973"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="6181.4346">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,6213.9883,1188.4185,6217.9883,1178.4185,6221.9883,1182.4185,6217.9883" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="6217.9883" y2="6217.9883"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.7617" x="810.6816" y="6212.7256">listerAvisEnAttente()</text></g><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,6245.2793,1485.063,6249.2793,1475.063,6253.2793,1479.063,6249.2793" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="6249.2793" y2="6249.2793"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="261.7773" x="1197.4185" y="6244.0166">SELECT avis WHERE statut='EN_ATTENTE'</text></g><g class="message" data-participant-1="PostgreSQL" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,6276.5703,1191.4185,6280.5703,1201.4185,6284.5703,1197.4185,6280.5703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1486.063" y1="6280.5703" y2="6280.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1182" x="1207.4185" y="6275.3076">liste</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6307.8613,804.6816,6311.8613,814.6816,6315.8613,810.6816,6311.8613" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="6311.8613" y2="6311.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23.1182" x="820.6816" y="6306.5986">liste</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,6339.1523,571.1328,6343.1523,581.1328,6347.1523,577.1328,6343.1523" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="6343.1523" y2="6343.1523"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.5317" x="587.1328" y="6337.8896">Afficher la liste</text></g><g class="message" data-participant-1="Employe" data-participant-2="Web"><polygon fill="#181818" points="558.1328,6370.4434,568.1328,6374.4434,558.1328,6378.4434,562.1328,6374.4434" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="289.3994" x2="564.1328" y1="6374.4434" y2="6374.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="147.4116" x="296.3994" y="6369.1807">Valider ou refuser un avis</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,6401.7344,801.6816,6405.7344,791.6816,6409.7344,795.6816,6405.7344" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="6405.7344" y2="6405.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="209.5488" x="577.1328" y="6400.4717">POST /employe/avis/{id}/moderation</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,6433.0254,994.5601,6437.0254,984.5601,6441.0254,988.5601,6437.0254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="6437.0254" y2="6437.0254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.2153" x="810.6816" y="6431.7627">V&#233;rifier r&#244;le employ&#233;</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6464.3164,804.6816,6468.3164,814.6816,6472.3164,810.6816,6468.3164" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="6468.3164" y2="6468.3164"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97.5381" x="820.6816" y="6463.0537">OK (id_employe)</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,6495.6074,1188.4185,6499.6074,1178.4185,6503.6074,1182.4185,6499.6074" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="6499.6074" y2="6499.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="234.8188" x="810.6816" y="6494.3447">modererAvis(id_avis, statut, id_employe)</text></g><path d="M484.4829,6514.6074 L544.6538,6514.6074 L544.6538,6523.8984 L534.6538,6533.8984 L484.4829,6533.8984 L484.4829,6514.6074" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="319.541" style="stroke:#000000;stroke-width:1.5;" width="1498.2485" x="484.4829" y="6514.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="15.1709" x="499.4829" y="6529.6357">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="247.5269" x="559.6538" y="6528.4775">[OK : statut demand&#233; valide (VALIDE/REFUSE)]</text><g class="message" data-participant-1="Metier" data-participant-2="PostgreSQL"><polygon fill="#181818" points="1475.063,6553.1895,1485.063,6557.1895,1475.063,6561.1895,1479.063,6557.1895" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1481.063" y1="6557.1895" y2="6557.1895"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="236.9771" x="1197.4185" y="6551.9268">UPDATE avis SET statut=..., employe=...</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6584.4805,804.6816,6588.4805,814.6816,6592.4805,810.6816,6588.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="6588.4805" y2="6588.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="6583.2178">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,6615.7715,571.1328,6619.7715,581.1328,6623.7715,577.1328,6619.7715" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="6619.7715" y2="6619.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73.6963" x="587.1328" y="6614.5088">Confirmation</text></g><path d="M1105.1343,6634.7715 L1170.3452,6634.7715 L1170.3452,6644.0625 L1160.3452,6654.0625 L1105.1343,6654.0625 L1105.1343,6634.7715" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="113.1641" style="stroke:#000000;stroke-width:1.5;" width="867.5972" x="1105.1343" y="6634.7715"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="20.2109" x="1120.1343" y="6649.7998">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="204.7246" x="1185.3452" y="6648.6416">[Journalisation MongoDB (si possible)]</text><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,6673.3535,1704.7046,6677.3535,1694.7046,6681.3535,1698.7046,6677.3535" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="6677.3535" y2="6677.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="301.1646" x="1197.4185" y="6672.0908">ajouter("avis_modere", {id_avis, statut, id_employe})</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,6704.6445,1886.7471,6708.6445,1876.7471,6712.6445,1880.7471,6708.6445" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="6708.6445" y2="6708.6445"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="56.3608" x="1713.7046" y="6703.3818">insertOne</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,6735.9355,1707.7046,6739.9355,1717.7046,6743.9355,1713.7046,6739.9355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="6739.9355" y2="6739.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="1723.7046" y="6734.6729">OK</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="484.4829" x2="1982.7314" y1="6755.9355" y2="6755.9355"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="37.8877" x="489.4829" y="6767.8057">[Refus]</text><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6790.8574,804.6816,6794.8574,814.6816,6798.8574,810.6816,6794.8574" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="6794.8574" y2="6794.8574"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36.1182" x="820.6816" y="6789.5947">Erreur</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,6822.1484,571.1328,6826.1484,581.1328,6830.1484,577.1328,6826.1484" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="6826.1484" y2="6826.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7627" x="587.1328" y="6820.8857">Message d'&#233;chec</text></g><rect fill="#EEEEEE" height="3" style="stroke:#EEEEEE;stroke-width:1;" width="2312.9351" x="0" y="6862.7939"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="6862.7939" y2="6862.7939"/><line style="stroke:#000000;stroke-width:1;" x1="0" x2="2312.9351" y1="6865.7939" y2="6865.7939"/><rect fill="#EEEEEE" height="25.291" style="stroke:#000000;stroke-width:2;" width="250.8818" x="1031.0266" y="6851.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="233.27" x="1037.0266" y="6869.1768">T6 &#8212; Admin : statistiques (MongoDB)</text><g class="message" data-participant-1="Admin" data-participant-2="Web"><polygon fill="#181818" points="558.1328,6905.7305,568.1328,6909.7305,558.1328,6913.7305,562.1328,6909.7305" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="377.7612" x2="564.1328" y1="6909.7305" y2="6909.7305"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.3716" x="384.7612" y="6904.4678">Ouvrir tableau de bord admin</text></g><g class="message" data-participant-1="Web" data-participant-2="Controleur"><polygon fill="#181818" points="791.6816,6937.0215,801.6816,6941.0215,791.6816,6945.0215,795.6816,6941.0215" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="570.1328" x2="797.6816" y1="6941.0215" y2="6941.0215"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164.7534" x="577.1328" y="6935.7588">GET /admin/tableau-de-bord</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Auth"><polygon fill="#181818" points="984.5601,6968.3125,994.5601,6972.3125,984.5601,6976.3125,988.5601,6972.3125" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="990.5601" y1="6972.3125" y2="6972.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.4854" x="810.6816" y="6967.0498">V&#233;rifier r&#244;le admin</text></g><g class="message" data-participant-1="Auth" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,6999.6035,804.6816,7003.6035,814.6816,7007.6035,810.6816,7003.6035" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="995.5601" y1="7003.6035" y2="7003.6035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="18.7827" x="820.6816" y="6998.3408">OK</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Metier"><polygon fill="#181818" points="1178.4185,7030.8945,1188.4185,7034.8945,1178.4185,7038.8945,1182.4185,7034.8945" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="803.6816" x2="1184.4185" y1="7034.8945" y2="7034.8945"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.1416" x="810.6816" y="7029.6318">calculerStatistiques(debut, fin)</text></g><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,7062.1855,1704.7046,7066.1855,1694.7046,7070.1855,1698.7046,7066.1855" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="7066.1855" y2="7066.1855"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="270.8037" x="1197.4185" y="7060.9229">compterParJour("covoiturage_cree", debut, fin)</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,7093.4766,1886.7471,7097.4766,1876.7471,7101.4766,1880.7471,7097.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="7097.4766" y2="7097.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5508" x="1713.7046" y="7092.2139">aggregate</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,7124.7676,1707.7046,7128.7676,1717.7046,7132.7676,1713.7046,7128.7676" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="7128.7676" y2="7128.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="1723.7046" y="7123.5049">r&#233;sultat</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,7156.0586,1191.4185,7160.0586,1201.4185,7164.0586,1197.4185,7160.0586" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1705.7046" y1="7160.0586" y2="7160.0586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="1207.4185" y="7154.7959">r&#233;sultat</text></g><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,7187.3496,1704.7046,7191.3496,1694.7046,7195.3496,1698.7046,7191.3496" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="7191.3496" y2="7191.3496"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296.0991" x="1197.4185" y="7186.0869">compterParJour("reservation_effectuee", debut, fin)</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,7218.6406,1886.7471,7222.6406,1876.7471,7226.6406,1880.7471,7222.6406" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="7222.6406" y2="7222.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5508" x="1713.7046" y="7217.3779">aggregate</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,7249.9316,1707.7046,7253.9316,1717.7046,7257.9316,1713.7046,7253.9316" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="7253.9316" y2="7253.9316"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="1723.7046" y="7248.6689">r&#233;sultat</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,7281.2227,1191.4185,7285.2227,1201.4185,7289.2227,1197.4185,7285.2227" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1705.7046" y1="7285.2227" y2="7285.2227"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="1207.4185" y="7279.96">r&#233;sultat</text></g><g class="message" data-participant-1="Metier" data-participant-2="JournalMongo"><polygon fill="#181818" points="1694.7046,7312.5137,1704.7046,7316.5137,1694.7046,7320.5137,1698.7046,7316.5137" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1190.4185" x2="1700.7046" y1="7316.5137" y2="7316.5137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="244.0737" x="1197.4185" y="7311.251">compterParJour("avis_depose", debut, fin)</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="MongoDB"><polygon fill="#181818" points="1876.7471,7343.8047,1886.7471,7347.8047,1876.7471,7351.8047,1880.7471,7347.8047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1706.7046" x2="1882.7471" y1="7347.8047" y2="7347.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="58.5508" x="1713.7046" y="7342.542">aggregate</text></g><g class="message" data-participant-1="MongoDB" data-participant-2="JournalMongo"><polygon fill="#181818" points="1717.7046,7375.0957,1707.7046,7379.0957,1717.7046,7383.0957,1713.7046,7379.0957" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1711.7046" x2="1887.7471" y1="7379.0957" y2="7379.0957"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="1723.7046" y="7373.833">r&#233;sultat</text></g><g class="message" data-participant-1="JournalMongo" data-participant-2="Metier"><polygon fill="#181818" points="1201.4185,7406.3867,1191.4185,7410.3867,1201.4185,7414.3867,1197.4185,7410.3867" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1195.4185" x2="1705.7046" y1="7410.3867" y2="7410.3867"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.6309" x="1207.4185" y="7405.124">r&#233;sultat</text></g><g class="message" data-participant-1="Metier" data-participant-2="Controleur"><polygon fill="#181818" points="814.6816,7437.6777,804.6816,7441.6777,814.6816,7445.6777,810.6816,7441.6777" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="808.6816" x2="1189.4185" y1="7441.6777" y2="7441.6777"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="104.7744" x="820.6816" y="7436.415">statistiques pr&#234;tes</text></g><g class="message" data-participant-1="Controleur" data-participant-2="Web"><polygon fill="#181818" points="581.1328,7468.9688,571.1328,7472.9688,581.1328,7476.9688,577.1328,7472.9688" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="575.1328" x2="802.6816" y1="7472.9688" y2="7472.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132.9453" x="587.1328" y="7467.7061">Afficher les statistiques</text></g><!--SRC=[tLhDSkCs4hxpAL2-YAgHvSpipy5LyfR6vcIzyTzAidDnbOeM8Hif2jI0f9AfhLJb8V80Uzievtq3lSa-oNuDW1GeYvBjiJspUqZ68XgDHdT_NpT0PYABEGj6IKz4dFL7YxaCbKZOL0av4jCmPlwH26zLE9bm1ebqCV-OSpdYJSyBHrcYsCwLI4N6SxN3mfGLFuh1Yp1DmrkkhgMVPo8MQKYZJIrRZ1MoXtTXFXvZU9rmELX81vDfd7nQpFMe-S6BiMuq4LAacGfBm_GZpvk6AXEqCPcHSRSyPJ_o6-OFVXItpMliYs5xR9Q8ZCKDnmYjutj-KrLmcCXCBVuTGo1b_K-JSI8_mNZ55_zAn8n390wPuX_pnUyPPpnZQZ6V9ZB2YDqLAKXeVbLndwUfI2JROzqykuFAZxbWFCtOA96IZxB5dFt5QA3nrRbg9aROs6GnpuHslLhyTXlZoHiMJgSyXgr_Fp7JJpc9U5uKPk5Dc78u9KcpMyKXWOaHbblCCJCPZx40Zw751gyKgwx-joHNCem3x9vFiC_qD96tING3PJ-O8PRnqPqKyBFHP6TeESSE_VlelJClQYpcCoIeqMljDr8hWRMXOAUXYBK3HibacgGq5ZMuH7ZjR3r-tts81vjW33FxfuCBX24rJjLFpLmhHoeyJoQ8RpBZgWH0gpHjwIdMOR1V2GgV3GvpCxsb4ozNl8Kucp-HeIrMsfSX9reid8cqsVQiVYXTxo1ME8wqOsApHUY5BgmUvOK1RO_BY97zxYwCOrgLJPvGIk6FL3k3adlnJoRaE54Jp0ZpB9bW7OHreXCVqixMqhPto9biK0vFuJtWGeSPb5Bcs3uRwN4ymp12Dicb66dRNIix7JRuXltdbr_PiKn7Ian909F1OpFhVAYO2RB2iO2MrNJ3EXtFAyB4TWy8rfX-di-KKBJo55BOMAdR8m78BS4AyM-30TjpXPpHtL9fbs1pXpLX73agZqEX-Bhb0sJbfrL1vazJdaT9IpiU_q-qTsWdI0lDFCsrrbsSzpUOTs1X3q4ZelZbqb5-kzqcTeypTbI4PeOiYl0lA8oJANl6BXQ957mcRX1jZnLQeT_9-NrsVDOFUWCt5eH8nIEHfPrtto0jip3BiqxtS73ymMuhRKAVesMtOdGqT9Gv2w-wuVmx35PtJdo9aQF5V18gnNN0KyEsaDMZszMKKUjX4mfyJ1a8uefvc5E0RX8LUPYJJBE2tYm82rPWVYeOA2abtz5UNU-vZ8X5Gk0uuyhVSJOzD87BTbhi7rLt_6oqLNIGy-owEkHSPUUIcrNjyztxw-fj0tSUAWPw18exIt9MX7un_m44O5O6fUmjWIoapPSDeGdWVFpXJxX6PRFMmujvM8380SORnhM2b8Z1SC9RpGc7e3VZwQYHIvT7cJygUeYcve2ofLYYa6PZeUh43GXpfFQGqQWbQxFjYbX_J7uewxTNbshChyOJKAp1hbxmS6b1MQrRx9uAGlELAIxK0r118Nv4kfPEOM2qMI62b9vnUeA2Z8YEaZji0JCsuVnzyEtnsLOQS5m66h3GlpZfdXr_E0vQclQ5XcFdtHOES4DKk-hX-UdfyS1x34aiio6HOw4cEfrU0CwE_KEAfSLofVI_3hPxV9oZNoYYBx4nWs12jKu0d0QMAT1yLLo_qxZkSHB5VxQDfXx4X82WN1mbcCFCLluHQ5OypMCaP5g7E5KgTM2N-aJ4YzyKEQOc2_l1IN1OoVtqMdx_rw0Ni1K4NClksP5s-Z3YX5DsGCKVRfTeJyre5QNccTlfqFCnmFM6ZKMSQRlgO8GvwAdgWcb6jtKsgOw7zTowK9XewKYWUOd3qKCf5N3ucQAYPxycjHPh-fln20KRkV31sS0-dFVOvSLHTu04y6Vbdanoj0m8MyPtMxFCJOKQlID4ZDelMndWcltLH2p8VrqQqfYy6HfpXhe9P0STzlPQOg3GpLBK5K67hfJagUktFOE5BoArhLXKJZxrqcQ7rMA_QjykUzlSgi5rNT6YOkPKYP-QdrTZTEvLjjDyIDcfKDqBr22Jw5hFaACD66LvRI5QEOQ-PcdQH-hZdyZInuOcf7T-SlA-U_ZT0qfKLMLjE4vD9TEdQp3Ug6fNcUtONvdlpsBUMirFj78LU0ozOduJcoJyV5DNrJ_Lbmv-fPFxo6TcEyKzegJdCNfbXKVON7GcVz2TILTAD2yQYK087U2NBJNr9ijRbVB0qIfkdlgYAX-IBg2DYgfpAmKkXMNsiWKcwuNeFEPnSzEov5oIKtno0qpXL9Qw5oThpZlQTdFhyFW3ZwxEnk9NBSvsIVVay_fbsYcShi26izLAVNrKDUilvpUwPsUN9q6ZVhwrkv8_FZStIBQcMU-0zOesj4BkRPvcG-DctXc7mEY6avXf4klDyOjqnDYR8dZLzT975TS3Ynwg2ahVQ7Arn-MCnybqYiTwgsOX0qjVcwZNC1EXmhdPNDw-GS9zlkikXRBqsOT8nwWNFayQDt_f4-M-fl6fIj10BUQPFk4bEPWhduKYjHdzR6HELz3AtaN9qjbFe_O_QchlQmDj0RNtXTCSbiFV4o7jNV8QNdMk5v_Ch14tAZwVMkjlaEv2YQEQsUOz4WtEXeVdbxt-AzDfDLsUaJYB_JIsairNVbbaC-CBe_iPSFiuNAx1sQ30uTDXLa3vYy5i4FHEZy-2hmHb1KYUZ3AxdUtz2JSl4zqsvRcQaMTl9iPYvLN2rz9Hl33JM71iPnhtudvOljlx_-8VwWl-P8vyCw4li-1QT1kw8vWa-4slrjTVHnzfONCPJU_lDp0K3QFuQ_4N92Mx0ct5lt-vGoT64rCSPOWY7ajF3jEuckbKLBw8frl4eazRpBcvFNHGPh8FFYsk3nkXTJpTDl2VW46mnjPBH3t91x5r1uFWR02cvUPpeGuEKYTRNZBfOBr4lr3as8usZyCDMKPlLtPU0DAqnD04t4APddpXIxrNnw_zI6m9ogj4cFSNAo6e_-339ex6w3PiwkyORAez1Q2wn6Xy1h9h3FEtNVthZLJUApMMUTzuoRT0ON4FSD_B-asYeeEVehW_Y0HTHvi-3GJBLRZcMvQdEbvVEDbrwY-RzB9BcZIuALxBL1Iil4XXrALBS5NnAjM_wfuS7mLxlU33PJ_O_Yv2nzBfhDhjzfAvyEDhx1qqqHYNLOZcliDUYrgUg_3_sHH- -ehKXXZfJb-xeRHOuynN9KPazREobO-3MAW_Hwtb6JsyPoVjHdnNVr7qeBmtcXz_HWdZ4LtCzPsT-H6_eQYX-wsK-vK0qCULYFv5g6XWxNSDhgBwa8UtmC1jI5HK7-xoNVEAeihhsrBcuLRNlGdx7p2zMjw_lC6hQLT12qvPlzDdHDk_Ad2dUVy5]--></g></svg>