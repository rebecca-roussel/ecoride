{
  "title": "diagramme_sequence_01_inscription_connexion",
  "diagramType": "sequence",
  "participants": [
    {
      "id": "2026-01-17T16:22:33.925Z",
      "type": "actor",
      "alias": "Visiteur",
      "label": "Visiteur"
    },
    {
      "id": "2026-01-17T16:23:54.941Z",
      "type": "participant",
      "alias": "IHM",
      "label": "Interface (UI)"
    },
    {
      "id": "2026-01-17T16:24:54.880Z",
      "type": "participant",
      "alias": "API",
      "label": "Serveur"
    },
    {
      "id": "2026-01-17T16:25:23.856Z",
      "type": "database",
      "alias": "DB",
      "label": "BDD (PostgreSQL)"
    }
  ],
  "sequence": [
    {
      "type": "message",
      "from": "Visiteur",
      "to": "IHM",
      "arrow": "->",
      "label": "Ouvre \"Créer un compte\"",
      "id": "d2c40e08-67b6-4563-bd16-b4e9538f56ba"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "Visiteur",
      "arrow": "->",
      "label": "Affiche un formulaire d'inscription",
      "id": "eb7f050b-5a60-4b3a-b0ec-2a2c67e3d63a"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "API",
      "arrow": "->",
      "label": "POST/inscription",
      "id": "1cb511ea-f812-46d2-9f77-5e6001dc8c1b"
    },
    {
      "type": "message",
      "from": "Visiteur",
      "to": "IHM",
      "arrow": "->",
      "label": "Soumet le formulaire",
      "id": "5701f124-8861-4c99-ad51-fbeda6e47014"
    },
    {
      "type": "message",
      "from": "API",
      "to": "API",
      "arrow": "->",
      "label": "Vérifie que les champs sont bien remplis et valides",
      "id": "2ae41e65-676e-41d6-ba43-e091c20ef686"
    },
    {
      "type": "message",
      "from": "API",
      "to": "DB",
      "arrow": "->",
      "label": "Vérifie si l'email existe",
      "id": "8ea9586d-a5ef-483c-a56a-8ddefad605e1"
    },
    {
      "type": "message",
      "from": "DB",
      "to": "API",
      "arrow": "->",
      "label": "Email trouvé/non trouvé",
      "id": "26287c01-07da-4485-a521-0b6db7b54c50"
    },
    {
      "type": "message",
      "from": "API",
      "to": "IHM",
      "arrow": "-->",
      "label": "Envoi erreur \"Adresse email déjà utilisée\"",
      "id": "6ad5eb24-8feb-4287-90f0-d915b7b4924f"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "Visiteur",
      "arrow": "-->",
      "label": "Affiche le message d'erreur",
      "id": "dab1080d-6303-4614-a427-1756964cba63"
    },
    {
      "type": "fragment_start",
      "kind": "alt",
      "label": "Email déjà utilisé ?",
      "id": "9e39f301-b272-4bfe-bfcc-efb4649c3e2b"
    },
    {
      "type": "fragment_else",
      "kind": "alt",
      "label": "Oui = afficher une erreur",
      "id": "cf9972ce-4512-4517-a90a-fd53941390cb"
    },
    {
      "id": "9fe7726f-d747-4d65-b1c6-6c038a2387cb",
      "type": "fragment_else",
      "kind": "alt",
      "label": "Non = créer le compte"
    },
    {
      "type": "fragment_end",
      "kind": "alt",
      "label": "",
      "id": "ecee7f51-8edc-4502-8df0-e9cd1f4269b5"
    },
    {
      "type": "message",
      "from": "API",
      "to": "API",
      "arrow": "->",
      "label": "Hash du mot de passe (fonction de hachage)",
      "id": "2bb71c87-9ac0-4be6-bc20-483a276fcb3c"
    },
    {
      "type": "message",
      "from": "API",
      "to": "DB",
      "arrow": "->",
      "label": "INSERT nouvel utilisateur avec email, pseudo, mdp hashé et 20 crédits",
      "id": "67c222db-49a8-437c-a260-5c4875bae874"
    },
    {
      "type": "message",
      "from": "DB",
      "to": "API",
      "arrow": "-->",
      "label": "OK - Utilisateur ajouté",
      "id": "a6941ff3-da01-4a3b-8fd2-d712dbebedc9"
    },
    {
      "type": "message",
      "from": "API",
      "to": "IHM",
      "arrow": "-->",
      "label": "Compte créé avec succès",
      "id": "84147f0d-1ae5-43a4-9b5b-b87cc6beb3a0"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "Visiteur",
      "arrow": "-->",
      "label": "Affiche confirmation + bouton \"Se connecter\"",
      "id": "ca0a6d4f-93eb-4d3e-8149-37d3c22d42fb"
    },
    {
      "type": "message",
      "from": "Visiteur",
      "to": "IHM",
      "arrow": "->",
      "label": "Clique sur \"Se connecter\"",
      "id": "28c27a88-3961-4d3c-bf74-f0cfbe08be56"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "Visiteur",
      "arrow": "-->",
      "label": "Affiche un formulaire de connexion",
      "id": "916ceda4-bfb5-4682-a5a9-c329db9b18b1"
    },
    {
      "type": "message",
      "from": "Visiteur",
      "to": "IHM",
      "arrow": "->",
      "label": "Soumet email et mot de passe",
      "id": "947a8111-035f-4dcb-8531-9ac94447680f"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "API",
      "arrow": "->",
      "label": "POST /connexion (email, mot de passe)",
      "id": "6260a0f5-9fc6-4af0-ac69-71c6957212cc"
    },
    {
      "type": "message",
      "from": "API",
      "to": "DB",
      "arrow": "->",
      "label": "SELECT utilisateur WHERE email = ?",
      "id": "9713963d-5bcf-4e95-988d-9955c17ec2c9"
    },
    {
      "type": "message",
      "from": "DB",
      "to": "API",
      "arrow": "-->",
      "label": "Utilisateur trouvé / non trouvé",
      "id": "5a5b6d74-e71f-4ba8-bfc3-5d42b356b1f3"
    },
    {
      "type": "message",
      "from": "API",
      "to": "API",
      "arrow": "->",
      "label": "Vérifie mot de passe avec password_verify",
      "id": "8f06433a-7c28-446c-ab6b-8ea47d9864bb"
    },
    {
      "type": "fragment_start",
      "kind": "alt",
      "label": "Mot de passe correct ?",
      "id": "2a2d5fa1-6995-43e3-86a4-7704c68a7c0d"
    },
    {
      "type": "fragment_else",
      "kind": "alt",
      "label": "Oui = créer une session",
      "id": "22e7e38e-6f96-4051-9cb8-e4fefec786d1"
    },
    {
      "id": "94de2ae5-d0eb-49e7-8592-fe2d4a2be4f6",
      "type": "fragment_else",
      "kind": "alt",
      "label": "Non = afficher une erreur"
    },
    {
      "type": "fragment_end",
      "kind": "alt",
      "label": "",
      "id": "75f7bf73-37a8-4839-8a51-f87fdc4c8324"
    },
    {
      "type": "message",
      "from": "API",
      "to": "API",
      "arrow": "->",
      "label": "Crée une session d’utilisateur (authentification)",
      "id": "c479855b-13d0-40a2-8cc4-cb17a6a68de1"
    },
    {
      "type": "message",
      "from": "API",
      "to": "IHM",
      "arrow": "-->",
      "label": "Connexion réussie",
      "id": "bc4e4d67-3237-4945-b149-2d2dd19994b6"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "Visiteur",
      "arrow": "-->",
      "label": "Affiche l'espace utilisateur",
      "id": "bc6a05ed-5464-4acb-bd4c-8a42e0f9f019"
    },
    {
      "type": "message",
      "from": "API",
      "to": "IHM",
      "arrow": "-->",
      "label": "Envoi erreur “Identifiants invalides”",
      "id": "ec2b0a03-af26-4a07-b62d-266b5c25fd16"
    },
    {
      "type": "message",
      "from": "IHM",
      "to": "Visiteur",
      "arrow": "-->",
      "label": "Affiche message d’erreur (identifiants invalides)",
      "id": "01512834-4baf-4383-8664-b828163996f0"
    }
  ]
}